<br>

<div class="container" >
  <section class="panel">

    <h1 class="heading--serif jumbotron__title medium-offset-bottom-2">liste Des Demandes  </h1>
    <hr>

    <br>
    <br>


    <table class="table table-striped table-advance table-hover border">
      <tbody>
      <tr style="background: #d2c7ff">


        <th class="center"> <i class="fa-solid fa-user" style="margin-right: 6px"></i><b> id Demande </b></th>
        <th class="center"><i class="fa-solid fa-user" style="margin-right: 6px"></i><b>Nom Client</b></th>
        <th class="center"><i class="fa-solid fa-clock" style="margin-right: 6px"></i>  <b>Duree </b></th>
        <th class="center"><i class="fa-solid fa-clock" style="margin-right: 6px"></i> <b>Date Debut</b> </th>
        <th class="center"><i class="fa-solid fa-clock" style="margin-right: 6px"></i> <b>Date De Reponse </b></th>
        <th class="center"><i class="fa-solid fa-clock" style="margin-right: 6px"></i> <b>Etat</b> </th>
        <th class="center"><i class="fa-solid fa-computer-mouse" style="margin-right: 6px"></i> <b>Action</b></th>
      </tr>

      <tr  *ngFor="let demande of listDemande ">
        <td class="center "> <span>{{demande.id}}</span></td>
        <td class="center"> <span>{{demande.client.username}}</span></td>
        <td class="center"><span>{{demande.duree}} ans</span></td>
        <td class="center" *ngIf="demande.dateD ==null"><span>--</span></td>
        <td class="center"*ngIf="demande.dateD !=null"><span>{{demande.dateD.substring(0,16).replace("T", " ") }}</span></td>
        <td class="center"*ngIf="demande.dateAC !=null"><span>{{demande.dateAC.substring(0,16).replace("T", " ")}}</span></td>
        <td class="center" *ngIf="demande.dateAC==null"> <span>--</span></td>
        <td class="center" *ngIf="demande.etat==1" style="color:darkgreen"> <span>Accepté</span></td>
        <td class="center" *ngIf="demande.etat==0" style="color:darkred"> <span>Refusée</span></td>
        <td class="center" *ngIf="demande.etat==-1" style="color:darkgoldenrod"> <span>en Attend</span></td>
        <td class="cell100 column6 center">
          <button class="btn btn-success" [disabled]="demande.etat == 1 ||demande.etat == 0 " (click)="onAccepter(demande.id) " >Accepter</button>
          <button class="btn btn-danger" [disabled]="demande.etat == 0 ||demande.etat == 1" (click)="onRefuse(demande.id)" >Refuser</button>
        </td>

      </tr>

      </tbody>
    </table>
  </section>
</div>
